Тестовый HTTP-сервер на PHP

Задание: Нужно сделать однопоточный/однопроцессный HTTP сервер, который будет обрабатывать очень ограниченное подмножество HTTP, а именно ровно один тип запросов: GET /some/file.txt.
В ответе должен быть правильный HTTP код 200 или 404, заголовок Content-Length и собственно тело файла. Использовать можно любой event loop, который понравится, будет проще или интереснее: select/epoll/.
